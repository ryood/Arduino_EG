Version 4
SHEET 1 1764 724
WIRE 32 -272 16 -272
WIRE 16 -256 16 -272
WIRE 784 -240 672 -240
WIRE 960 -240 864 -240
WIRE 672 -192 672 -240
WIRE 16 -160 16 -176
WIRE 624 -112 608 -112
WIRE 32 -80 16 -80
WIRE 16 -64 16 -80
WIRE 384 -64 368 -64
WIRE 368 -48 368 -64
WIRE 672 -48 672 -96
WIRE 672 -48 560 -48
WIRE 624 -16 608 -16
WIRE 608 0 608 -16
WIRE 560 16 560 -48
WIRE 576 16 560 16
WIRE 16 32 16 16
WIRE 672 32 672 -48
WIRE 672 32 640 32
WIRE 368 48 368 32
WIRE 576 48 368 48
WIRE 368 64 368 48
WIRE 32 112 16 112
WIRE 16 128 16 112
WIRE 736 144 672 144
WIRE 832 144 800 144
WIRE 960 144 960 -240
WIRE 960 144 912 144
WIRE 368 176 368 144
WIRE 16 224 16 208
WIRE 736 288 672 288
WIRE 832 288 800 288
WIRE 960 288 960 144
WIRE 960 288 912 288
WIRE 1024 288 960 288
WIRE 32 304 16 304
WIRE 16 320 16 304
WIRE 960 320 960 288
WIRE 960 400 960 384
WIRE 16 416 16 400
FLAG 608 -112 InvAttack
IOPIN 608 -112 In
FLAG 672 144 Attack
IOPIN 672 144 In
FLAG 672 288 GATE
IOPIN 672 288 In
FLAG 960 400 0
FLAG 1024 288 Out
IOPIN 1024 288 Out
FLAG 16 -160 0
FLAG 16 224 0
FLAG 16 -272 VCC
FLAG 16 112 InvAttack
FLAG 16 -80 Attack
FLAG 16 32 0
FLAG 16 416 0
FLAG 16 304 Gate
FLAG 368 -64 VCC
FLAG 368 176 0
FLAG 608 64 0
FLAG 608 -16 VCC
SYMBOL res 768 -256 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rdecay}
SYMBOL diode 736 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 816 128 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rattack}
SYMBOL diode 800 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 816 272 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rrelease}
SYMBOL cap 944 320 R0
SYMATTR InstName C1
SYMATTR Value 22u
SYMBOL voltage 16 -272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage 16 -80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 9 0 1n 1n 0.2 1)
SYMBOL voltage 16 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 9 0 1n 1n 0.75 1)
SYMBOL res 352 -64 R0
SYMATTR InstName R4
SYMATTR Value {50k-Rsustain}
SYMBOL res 352 48 R0
SYMATTR InstName R5
SYMATTR Value {Rsustain}
SYMBOL bv 16 112 R0
SYMATTR InstName B1
SYMATTR Value V=V(VCC)-V(Attack)
SYMBOL nmos 624 -192 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL Opamps\\UniversalOpamp2 608 32 R0
SYMATTR InstName U1
TEXT 1136 -64 Left 2 !.param Rdecay 2k
TEXT 1136 -24 Left 2 !.param Rattack 2k
TEXT 1136 16 Left 2 !.param Rrelease 2k
TEXT 1136 160 Left 2 !.tran 0 100 98
TEXT 1136 56 Left 2 !.step param Rsustain list 1k 10k 20k 30k 40k  49k
TEXT 1136 -136 Left 2 !.param V+ 12
