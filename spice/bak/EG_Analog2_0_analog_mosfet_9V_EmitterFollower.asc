Version 4
SHEET 1 1916 724
WIRE 32 -272 16 -272
WIRE 16 -256 16 -272
WIRE 432 -176 416 -176
WIRE 688 -176 656 -176
WIRE 16 -160 16 -176
WIRE 416 -160 416 -176
WIRE 1056 -160 928 -160
WIRE 1216 -160 1136 -160
WIRE 656 -112 656 -176
WIRE 928 -112 928 -160
WIRE 32 -80 16 -80
WIRE 16 -64 16 -80
WIRE 416 -64 416 -80
WIRE 592 -64 416 -64
WIRE 416 -48 416 -64
WIRE 880 -32 864 -32
WIRE 16 32 16 16
WIRE 656 32 656 -16
WIRE 928 32 928 -16
WIRE 928 32 656 32
WIRE 416 64 416 32
WIRE 656 64 656 32
WIRE 32 112 16 112
WIRE 16 128 16 112
WIRE 992 160 928 160
WIRE 1088 160 1056 160
WIRE 1216 160 1216 -160
WIRE 1216 160 1168 160
WIRE 656 176 656 144
WIRE 16 224 16 208
WIRE 1376 224 1360 224
WIRE 1360 256 1360 224
WIRE 32 304 16 304
WIRE 992 304 928 304
WIRE 1088 304 1056 304
WIRE 1216 304 1216 160
WIRE 1216 304 1168 304
WIRE 1296 304 1216 304
WIRE 16 320 16 304
WIRE 1216 336 1216 304
WIRE 1360 384 1360 352
WIRE 1440 384 1360 384
WIRE 1552 384 1504 384
WIRE 1632 384 1552 384
WIRE 16 416 16 400
WIRE 1360 416 1360 384
WIRE 1552 416 1552 384
WIRE 1216 432 1216 400
WIRE 1360 512 1360 496
WIRE 1552 512 1552 496
FLAG 864 -32 InvAttack
IOPIN 864 -32 In
FLAG 928 160 Attack
IOPIN 928 160 In
FLAG 928 304 GATE
IOPIN 928 304 In
FLAG 1216 432 0
FLAG 1632 384 Out
IOPIN 1632 384 Out
FLAG 16 -160 0
FLAG 16 224 0
FLAG 16 -272 VCC
FLAG 16 112 InvAttack
FLAG 16 -80 Attack
FLAG 16 32 0
FLAG 16 416 0
FLAG 16 304 Gate
FLAG 416 -176 VCC
FLAG 416 64 0
FLAG 656 -176 VCC
FLAG 656 176 0
FLAG 1552 512 0
FLAG 1360 512 0
FLAG 1360 224 VCC
SYMBOL res 1040 -176 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rdecay}
SYMBOL diode 992 176 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 1072 144 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rattack}
SYMBOL diode 1056 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 1072 288 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rrelease}
SYMBOL cap 1200 336 R0
SYMATTR InstName C1
SYMATTR Value 22u
SYMBOL voltage 16 -272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage 16 -80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 9 0 1n 1n 0.2 1)
SYMBOL voltage 16 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 9 0 1n 1n 0.75 1)
SYMBOL res 400 -176 R0
SYMATTR InstName R4
SYMATTR Value {100k-Rsustain}
SYMBOL res 400 -64 R0
SYMATTR InstName R5
SYMATTR Value {Rsustain}
SYMBOL bv 16 112 R0
SYMATTR InstName B1
SYMATTR Value V=V(VCC)-V(Attack)
SYMBOL nmos 880 -112 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL npn 592 -112 R0
SYMATTR InstName Q1
SYMATTR Value QC1815
SYMBOL res 640 48 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap 1504 368 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100u
SYMBOL res 1536 400 R0
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL npn 1296 256 R0
SYMATTR InstName Q2
SYMBOL res 1344 400 R0
SYMATTR InstName R8
SYMATTR Value 1k
TEXT 1296 -240 Left 2 !.param Rdecay 2k
TEXT 1296 -200 Left 2 !.param Rattack 2k
TEXT 1296 -160 Left 2 !.param Rrelease 2k
TEXT 1296 -16 Left 2 !.tran 0 100 98
TEXT 1296 -120 Left 2 !.step param Rsustain list 1k 25k 50k 75k 99k
TEXT 1296 -312 Left 2 !.param V+ 12
